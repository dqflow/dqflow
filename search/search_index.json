{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"dqflow","text":"<p>Lightweight, contract-first data quality engine for modern data pipelines.</p> <p> </p>"},{"location":"#what-is-dqflow","title":"What is dqflow?","text":"<p>dqflow lets you define explicit expectations for your data (schema, validity, freshness) and fail fast when data breaks \u2014 before bad data reaches downstream systems.</p> <pre><code>from dqflow import Contract, Column\n\ncontract = Contract(\n    name=\"orders\",\n    columns={\n        \"order_id\": Column(str, not_null=True),\n        \"amount\": Column(float, min=0),\n        \"currency\": Column(str, allowed=[\"USD\", \"EUR\"]),\n    },\n)\n\nresult = contract.validate(df)\nif not result.ok:\n    raise Exception(result.summary())\n</code></pre>"},{"location":"#why-dqflow","title":"Why dqflow?","text":"<p>Data quality issues are inevitable \u2014 silent failures are not.</p> <p>Most teams rely on ad-hoc checks, fragile assertions, or heavyweight frameworks that are hard to maintain. dqflow takes a different approach:</p> <ul> <li>Contracts over checks \u2014 expectations are explicit and versionable</li> <li>Pipeline-first \u2014 designed for ETL, ELT, and streaming workflows</li> <li>Lightweight &amp; Pythonic \u2014 minimal API, easy to embed</li> <li>Fail fast \u2014 break pipelines intentionally, not silently</li> </ul>"},{"location":"#features","title":"Features","text":"<ul> <li>Contract-as-code (Python &amp; YAML)</li> <li>Column-level validations (not null, min/max, allowed values, freshness)</li> <li>Table-level rules (row count, null rate, custom expressions)</li> <li>Structured validation results (JSON-friendly)</li> <li>CLI support</li> <li>Pandas engine (PySpark coming soon)</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Installation</li> <li>Quick Start</li> <li>API Reference</li> <li>GitHub Repository</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to dqflow are documented here.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"[Unreleased]","text":""},{"location":"changelog/#013-2025-01-31","title":"[0.1.3] - 2025-01-31","text":""},{"location":"changelog/#added","title":"Added","text":"<ul> <li>GitHub Actions CI/CD pipeline</li> <li>Automated PyPI publishing on release</li> <li>README badges (PyPI, CI, Python versions, License)</li> <li>RELEASING.md guide</li> <li>Pre-commit hooks</li> <li>Documentation site with MkDocs</li> </ul>"},{"location":"changelog/#fixed","title":"Fixed","text":"<ul> <li>JSON serialization for numpy boolean types in <code>to_dict()</code></li> </ul>"},{"location":"changelog/#012-2025-01-31","title":"[0.1.2] - 2025-01-31","text":""},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Updated GitHub repository URLs</li> </ul>"},{"location":"changelog/#011-2025-01-31","title":"[0.1.1] - 2025-01-31","text":""},{"location":"changelog/#changed_1","title":"Changed","text":"<ul> <li>Updated GitHub repository URLs</li> </ul>"},{"location":"changelog/#010-2025-01-31","title":"[0.1.0] - 2025-01-31","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Initial release</li> <li>Contract-as-code with Python API</li> <li>YAML contract support</li> <li>Column-level validations: not_null, min, max, allowed values, freshness</li> <li>Table-level rules: row_count, null_rate, unique_count, duplicate_rate</li> <li>Pandas validation engine</li> <li>CLI commands: <code>dq validate</code>, <code>dq show</code>, <code>dq infer</code></li> <li>Structured validation results with JSON output</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Thank you for your interest in contributing to dqflow!</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li>Report bugs - Found a bug? Open an issue</li> <li>Suggest features - Have an idea? We'd love to hear it</li> <li>Improve docs - Fix typos, add examples, clarify explanations</li> <li>Write code - Fix bugs or implement new features</li> </ul>"},{"location":"contributing/#quick-start","title":"Quick Start","text":"<pre><code># Fork and clone\ngit clone https://github.com/YOUR_USERNAME/dqflow.git\ncd dqflow\n\n# Setup environment\npython -m venv venv\nsource venv/bin/activate\npip install -e \".[dev]\"\n\n# Install pre-commit hooks\npre-commit install\n\n# Run tests\npytest\n</code></pre>"},{"location":"contributing/#development-workflow","title":"Development Workflow","text":"<ol> <li>Create a branch: <code>git checkout -b feature/your-feature</code></li> <li>Make changes and add tests</li> <li>Run checks:    <pre><code>ruff format .\nruff check .\nmypy src/dqflow\npytest\n</code></pre></li> <li>Commit and push</li> <li>Open a Pull Request</li> </ol>"},{"location":"contributing/#code-guidelines","title":"Code Guidelines","text":"<ul> <li>Use ruff for formatting and linting</li> <li>Use mypy for type checking</li> <li>Write tests for new features</li> <li>Update docs for user-facing changes</li> </ul>"},{"location":"contributing/#feature-ideas","title":"Feature Ideas","text":"<p>Looking to contribute? Here are some ideas:</p> Difficulty Feature Easy Improve error messages, add examples Medium Severity levels, custom validators Hard PySpark engine, dbt integration"},{"location":"contributing/#questions","title":"Questions?","text":"<p>Open a GitHub Issue or check existing discussions.</p>"},{"location":"api/column/","title":"Column","text":"<p>The <code>Column</code> class defines expectations for a single column.</p>"},{"location":"api/column/#class-definition","title":"Class Definition","text":"<pre><code>from dqflow import Column\n\ncolumn = Column(\n    dtype: type | str,\n    not_null: bool = False,\n    min: float | None = None,\n    max: float | None = None,\n    allowed: Sequence[Any] | None = None,\n    freshness_minutes: int | None = None,\n    description: str = \"\",\n    metadata: dict[str, Any] = {},\n    custom: Callable[[Any], bool] | None = None,\n)\n</code></pre>"},{"location":"api/column/#parameters","title":"Parameters","text":"Parameter Type Default Description <code>dtype</code> <code>type \\| str</code> required Expected data type <code>not_null</code> <code>bool</code> <code>False</code> Reject null values <code>min</code> <code>float \\| None</code> <code>None</code> Minimum value (numeric) <code>max</code> <code>float \\| None</code> <code>None</code> Maximum value (numeric) <code>allowed</code> <code>Sequence[Any] \\| None</code> <code>None</code> Allowed values <code>freshness_minutes</code> <code>int \\| None</code> <code>None</code> Max age for timestamps <code>description</code> <code>str</code> <code>\"\"</code> Human-readable description <code>metadata</code> <code>dict[str, Any]</code> <code>{}</code> Custom metadata <code>custom</code> <code>Callable[[Any], bool] \\| None</code> <code>None</code> Custom validation function"},{"location":"api/column/#supported-types","title":"Supported Types","text":"Type Description <code>str</code> String/text <code>int</code> Integer <code>float</code> Floating point <code>bool</code> Boolean <code>\"timestamp\"</code> Datetime"},{"location":"api/column/#examples","title":"Examples","text":""},{"location":"api/column/#basic-column","title":"Basic Column","text":"<pre><code>Column(str)\nColumn(int)\nColumn(float)\n</code></pre>"},{"location":"api/column/#not-null","title":"Not Null","text":"<pre><code>Column(str, not_null=True)\n</code></pre>"},{"location":"api/column/#numeric-bounds","title":"Numeric Bounds","text":"<pre><code>Column(float, min=0)\nColumn(float, max=100)\nColumn(float, min=0, max=100)\n</code></pre>"},{"location":"api/column/#allowed-values","title":"Allowed Values","text":"<pre><code>Column(str, allowed=[\"USD\", \"EUR\", \"GBP\"])\nColumn(int, allowed=[1, 2, 3, 4, 5])\n</code></pre>"},{"location":"api/column/#freshness-check","title":"Freshness Check","text":"<pre><code>Column(\"timestamp\", freshness_minutes=60)      # Within 1 hour\nColumn(\"timestamp\", freshness_minutes=1440)    # Within 24 hours\n</code></pre>"},{"location":"api/column/#with-metadata","title":"With Metadata","text":"<pre><code>Column(\n    dtype=str,\n    not_null=True,\n    description=\"Unique customer identifier\",\n    metadata={\"pii\": True, \"source\": \"crm\"},\n)\n</code></pre>"},{"location":"api/column/#custom-validation","title":"Custom Validation","text":"<p>Define custom validation logic with a function that takes a value and returns <code>True</code> if valid:</p> <pre><code>def is_email(value: str) -&gt; bool:\n    \"\"\"Check if value is a valid email.\"\"\"\n    return \"@\" in str(value) and \".\" in str(value)\n\nColumn(str, custom=is_email)\n</code></pre> <p>Using lambda functions:</p> <pre><code>Column(int, custom=lambda x: x &gt; 0)  # Positive numbers only\nColumn(int, custom=lambda x: x % 2 == 0)  # Even numbers only\nColumn(float, custom=lambda x: 0 &lt;= x &lt;= 1)  # Between 0 and 1\n</code></pre> <p>More complex validation:</p> <pre><code>def is_valid_phone(value: str) -&gt; bool:\n    \"\"\"Check if value is a valid phone number.\"\"\"\n    import re\n    return bool(re.match(r'^\\+?1?\\d{9,15}$', str(value)))\n\nColumn(str, custom=is_valid_phone)\n</code></pre> <p>Combining with other constraints:</p> <pre><code>Column(\n    dtype=float,\n    not_null=True,\n    min=0,\n    max=100,\n    custom=lambda x: x % 5 == 0,  # Must be divisible by 5\n    description=\"Score (0-100, increments of 5)\"\n)\n</code></pre>"},{"location":"api/column/#full-example","title":"Full Example","text":"<pre><code>from dqflow import Column\n\ncolumns = {\n    \"order_id\": Column(str, not_null=True),\n    \"customer_id\": Column(str, not_null=True),\n    \"amount\": Column(float, min=0, max=100000),\n    \"currency\": Column(str, allowed=[\"USD\", \"EUR\", \"GBP\"]),\n    \"status\": Column(str, allowed=[\"pending\", \"shipped\", \"delivered\"]),\n    \"created_at\": Column(\"timestamp\", freshness_minutes=1440),\n}\n</code></pre>"},{"location":"api/column/#validation-behavior","title":"Validation Behavior","text":"Constraint Check <code>not_null=True</code> Fails if any null/NaN values <code>min=X</code> Fails if any value &lt; X <code>max=X</code> Fails if any value &gt; X <code>allowed=[...]</code> Fails if any value not in list <code>freshness_minutes=X</code> Fails if max timestamp &gt; X minutes old <code>custom=func</code> Fails if func(value) returns False for any value"},{"location":"api/contract/","title":"Contract","text":"<p>The <code>Contract</code> class defines data quality expectations for a dataset.</p>"},{"location":"api/contract/#class-definition","title":"Class Definition","text":"<pre><code>from dqflow import Contract\n\ncontract = Contract(\n    name: str,\n    columns: dict[str, Column] = {},\n    rules: list[str] = [],\n    description: str = \"\",\n    metadata: dict[str, Any] = {},\n)\n</code></pre>"},{"location":"api/contract/#parameters","title":"Parameters","text":"Parameter Type Description <code>name</code> <code>str</code> Contract name (required) <code>columns</code> <code>dict[str, Column]</code> Column definitions <code>rules</code> <code>list[str]</code> Table-level validation rules <code>description</code> <code>str</code> Human-readable description <code>metadata</code> <code>dict[str, Any]</code> Custom metadata"},{"location":"api/contract/#methods","title":"Methods","text":""},{"location":"api/contract/#validate","title":"validate","text":"<p>Validate a DataFrame against this contract.</p> <pre><code>result = contract.validate(df: pd.DataFrame) -&gt; ValidationResult\n</code></pre> <p>Returns: ValidationResult</p> <p>Example:</p> <pre><code>import pandas as pd\nfrom dqflow import Contract, Column\n\ndf = pd.DataFrame({\"id\": [1, 2, 3]})\ncontract = Contract(name=\"test\", columns={\"id\": Column(int)})\n\nresult = contract.validate(df)\nprint(result.ok)  # True\n</code></pre>"},{"location":"api/contract/#from_yaml","title":"from_yaml","text":"<p>Load a contract from a YAML file.</p> <pre><code>contract = Contract.from_yaml(path: str | Path) -&gt; Contract\n</code></pre> <p>Example:</p> <pre><code>contract = Contract.from_yaml(\"contracts/orders.yaml\")\n</code></pre>"},{"location":"api/contract/#to_yaml","title":"to_yaml","text":"<p>Save a contract to a YAML file.</p> <pre><code>contract.to_yaml(path: str | Path) -&gt; None\n</code></pre> <p>Example:</p> <pre><code>contract.to_yaml(\"contracts/orders.yaml\")\n</code></pre>"},{"location":"api/contract/#example","title":"Example","text":"<pre><code>from dqflow import Contract, Column\n\ncontract = Contract(\n    name=\"orders\",\n    description=\"E-commerce order data\",\n    columns={\n        \"order_id\": Column(str, not_null=True),\n        \"amount\": Column(float, min=0, max=100000),\n        \"currency\": Column(str, allowed=[\"USD\", \"EUR\"]),\n    },\n    rules=[\n        \"row_count &gt; 0\",\n        \"null_rate(amount) &lt; 0.01\",\n    ],\n    metadata={\n        \"owner\": \"data-team\",\n        \"version\": \"1.0\",\n    },\n)\n\n# Validate\nresult = contract.validate(df)\n\n# Save to YAML\ncontract.to_yaml(\"contracts/orders.yaml\")\n</code></pre>"},{"location":"api/result/","title":"ValidationResult","text":"<p>The <code>ValidationResult</code> class contains the outcome of contract validation.</p>"},{"location":"api/result/#class-definition","title":"Class Definition","text":"<pre><code>from dqflow import ValidationResult\n\nresult = ValidationResult(\n    contract_name: str,\n    checks: list[CheckResult] = [],\n)\n</code></pre>"},{"location":"api/result/#properties","title":"Properties","text":"Property Type Description <code>contract_name</code> <code>str</code> Name of the validated contract <code>checks</code> <code>list[CheckResult]</code> All check results <code>ok</code> <code>bool</code> <code>True</code> if all checks passed <code>failed_checks</code> <code>list[CheckResult]</code> Only failed checks"},{"location":"api/result/#methods","title":"Methods","text":""},{"location":"api/result/#summary","title":"summary","text":"<p>Get a human-readable summary.</p> <pre><code>result.summary() -&gt; str\n</code></pre> <p>Example:</p> <pre><code>print(result.summary())\n</code></pre> <p>Output:</p> <pre><code>Contract 'orders': 5/7 checks passed\nFailed checks:\n  - not_null:order_id: Found 1 null values\n  - min:amount: Minimum value -50.0 is below 0\n</code></pre>"},{"location":"api/result/#to_dict","title":"to_dict","text":"<p>Get a JSON-serializable dictionary.</p> <pre><code>result.to_dict() -&gt; dict[str, Any]\n</code></pre> <p>Example:</p> <pre><code>import json\nprint(json.dumps(result.to_dict(), indent=2))\n</code></pre> <p>Output:</p> <pre><code>{\n  \"contract_name\": \"orders\",\n  \"ok\": false,\n  \"total_checks\": 7,\n  \"passed\": 5,\n  \"failed\": 2,\n  \"checks\": [\n    {\n      \"name\": \"column_exists:order_id\",\n      \"passed\": true,\n      \"message\": \"\",\n      \"details\": {}\n    },\n    {\n      \"name\": \"not_null:order_id\",\n      \"passed\": false,\n      \"message\": \"Found 1 null values\",\n      \"details\": {\"null_count\": 1}\n    }\n  ]\n}\n</code></pre>"},{"location":"api/result/#checkresult","title":"CheckResult","text":"<p>Individual check results.</p> Field Type Description <code>name</code> <code>str</code> Check identifier <code>passed</code> <code>bool</code> Whether check passed <code>message</code> <code>str</code> Error message (if failed) <code>details</code> <code>dict</code> Additional details"},{"location":"api/result/#usage-examples","title":"Usage Examples","text":""},{"location":"api/result/#basic-check","title":"Basic Check","text":"<pre><code>result = contract.validate(df)\n\nif result.ok:\n    print(\"All checks passed!\")\nelse:\n    print(result.summary())\n</code></pre>"},{"location":"api/result/#iterate-failed-checks","title":"Iterate Failed Checks","text":"<pre><code>for check in result.failed_checks:\n    print(f\"{check.name}: {check.message}\")\n</code></pre>"},{"location":"api/result/#pipeline-integration","title":"Pipeline Integration","text":"<pre><code>result = contract.validate(df)\n\nif not result.ok:\n    # Log details\n    logger.error(result.summary())\n\n    # Send to monitoring\n    metrics.record(result.to_dict())\n\n    # Fail the pipeline\n    raise Exception(f\"Data quality check failed: {result.summary()}\")\n</code></pre>"},{"location":"api/result/#access-check-details","title":"Access Check Details","text":"<pre><code>for check in result.checks:\n    if not check.passed:\n        print(f\"Check: {check.name}\")\n        print(f\"Message: {check.message}\")\n        print(f\"Details: {check.details}\")\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>Python 3.9 or higher</li> <li>pandas 1.5.0 or higher</li> </ul>"},{"location":"getting-started/installation/#install-from-pypi","title":"Install from PyPI","text":"<pre><code>pip install dqflow\n</code></pre>"},{"location":"getting-started/installation/#install-from-source","title":"Install from source","text":"<pre><code>git clone https://github.com/dqflow/dqflow.git\ncd dqflow\npip install -e .\n</code></pre>"},{"location":"getting-started/installation/#development-installation","title":"Development installation","text":"<p>For contributing to dqflow:</p> <pre><code>git clone https://github.com/dqflow/dqflow.git\ncd dqflow\npip install -e \".[dev]\"\npre-commit install\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify installation","text":"<pre><code>dq --version\n</code></pre> <pre><code>import dqflow\nprint(dqflow.__version__)\n</code></pre>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>This guide will help you validate your first DataFrame in under 5 minutes.</p>"},{"location":"getting-started/quickstart/#basic-example","title":"Basic Example","text":"<pre><code>import pandas as pd\nfrom dqflow import Contract, Column\n\n# Sample data with quality issues\ndf = pd.DataFrame({\n    \"order_id\": [\"A001\", None, \"A003\"],      # Has null value\n    \"amount\": [100.0, -50.0, 75.0],          # Has negative value\n    \"currency\": [\"USD\", \"GBP\", \"EUR\"],       # GBP not in allowed list\n})\n\n# Define your data contract\ncontract = Contract(\n    name=\"orders\",\n    columns={\n        \"order_id\": Column(str, not_null=True),\n        \"amount\": Column(float, min=0),\n        \"currency\": Column(str, allowed=[\"USD\", \"EUR\"]),\n    },\n    rules=[\"row_count &gt; 0\"],\n)\n\n# Validate\nresult = contract.validate(df)\n\n# Check results\nprint(result.summary())\n</code></pre> <p>Output:</p> <pre><code>Contract 'orders': 4/7 checks passed\nFailed checks:\n  - not_null:order_id: Found 1 null values\n  - min:amount: Minimum value -50.0 is below 0\n  - allowed:currency: Found invalid values: {'GBP'}\n</code></pre>"},{"location":"getting-started/quickstart/#use-in-pipelines","title":"Use in Pipelines","text":"<pre><code>if not result.ok:\n    raise Exception(result.summary())  # Fail fast!\n</code></pre>"},{"location":"getting-started/quickstart/#json-output","title":"JSON Output","text":"<p>For logging and monitoring:</p> <pre><code>import json\nprint(json.dumps(result.to_dict(), indent=2))\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Column Validations - Learn all column checks</li> <li>Table Rules - Add table-level validations</li> <li>YAML Contracts - Define contracts in YAML</li> <li>CLI Usage - Use the command-line interface</li> </ul>"},{"location":"guide/cli/","title":"CLI Usage","text":"<p>dqflow provides a command-line interface for validating data.</p>"},{"location":"guide/cli/#commands","title":"Commands","text":""},{"location":"guide/cli/#dq-validate","title":"dq validate","text":"<p>Validate data against a contract:</p> <pre><code>dq validate CONTRACT DATA\n</code></pre> <p>Arguments:</p> <ul> <li><code>CONTRACT</code> - Path to YAML contract file</li> <li><code>DATA</code> - Path to data file (parquet, csv, json)</li> </ul> <p>Options:</p> <ul> <li><code>--output</code>, <code>-o</code> - Output format: <code>text</code> (default) or <code>json</code></li> <li><code>--fail-fast</code> - Exit with error code 1 on validation failure</li> </ul> <p>Examples:</p> <pre><code># Basic validation\ndq validate contracts/orders.yaml data/orders.parquet\n\n# JSON output\ndq validate contracts/orders.yaml data/orders.csv --output json\n\n# Fail fast (for CI/CD)\ndq validate contracts/orders.yaml data/orders.parquet --fail-fast\n</code></pre>"},{"location":"guide/cli/#dq-show","title":"dq show","text":"<p>Display contract details:</p> <pre><code>dq show CONTRACT\n</code></pre> <p>Example:</p> <pre><code>dq show contracts/orders.yaml\n</code></pre> <p>Output:</p> <pre><code>Contract: orders\nDescription: E-commerce order data contract\n\nColumns:\n  order_id: string (NOT NULL)\n  amount: float (min=0, max=100000)\n  currency: string (allowed=['USD', 'EUR', 'GBP'])\n  created_at: timestamp (freshness=1440m)\n\nRules:\n  - row_count &gt; 0\n  - null_rate(amount) &lt; 0.01\n</code></pre>"},{"location":"guide/cli/#dq-infer","title":"dq infer","text":"<p>Infer a contract from existing data:</p> <pre><code>dq infer DATA OUTPUT\n</code></pre> <p>Arguments:</p> <ul> <li><code>DATA</code> - Path to data file</li> <li><code>OUTPUT</code> - Path to write contract YAML</li> </ul> <p>Example:</p> <pre><code>dq infer data/orders.csv contracts/orders.yaml\n</code></pre>"},{"location":"guide/cli/#supported-file-formats","title":"Supported File Formats","text":"Format Extension Parquet <code>.parquet</code> CSV <code>.csv</code> JSON <code>.json</code>"},{"location":"guide/cli/#cicd-integration","title":"CI/CD Integration","text":"<p>Use <code>--fail-fast</code> in CI pipelines:</p> <pre><code># GitHub Actions example\n- name: Validate data quality\n  run: dq validate contracts/orders.yaml data/orders.parquet --fail-fast\n</code></pre> <pre><code># Shell script\ndq validate contracts/orders.yaml data/orders.parquet --fail-fast || exit 1\n</code></pre>"},{"location":"guide/cli/#json-output","title":"JSON Output","text":"<p>Use <code>-o json</code> for machine-readable output:</p> <pre><code>dq validate contracts/orders.yaml data/orders.parquet -o json\n</code></pre> <pre><code>{\n  \"contract_name\": \"orders\",\n  \"ok\": true,\n  \"total_checks\": 7,\n  \"passed\": 7,\n  \"failed\": 0,\n  \"checks\": [...]\n}\n</code></pre>"},{"location":"guide/columns/","title":"Column Validations","text":"<p>Column definitions specify expected data types and constraints.</p>"},{"location":"guide/columns/#basic-column","title":"Basic Column","text":"<pre><code>from dqflow import Column\n\n# Just type\nColumn(str)\n\n# Type with constraints\nColumn(str, not_null=True)\n</code></pre>"},{"location":"guide/columns/#available-constraints","title":"Available Constraints","text":""},{"location":"guide/columns/#not_null","title":"not_null","text":"<p>Ensure no null/NaN values:</p> <pre><code>Column(str, not_null=True)\n</code></pre>"},{"location":"guide/columns/#min-max","title":"min / max","text":"<p>Numeric bounds:</p> <pre><code>Column(float, min=0)\nColumn(float, max=100)\nColumn(float, min=0, max=100)\n</code></pre>"},{"location":"guide/columns/#allowed","title":"allowed","text":"<p>Restrict to specific values:</p> <pre><code>Column(str, allowed=[\"USD\", \"EUR\", \"GBP\"])\nColumn(int, allowed=[1, 2, 3])\n</code></pre>"},{"location":"guide/columns/#freshness_minutes","title":"freshness_minutes","text":"<p>Ensure timestamp data is recent:</p> <pre><code>Column(\"timestamp\", freshness_minutes=60)      # Within last hour\nColumn(\"timestamp\", freshness_minutes=1440)    # Within last 24 hours\n</code></pre>"},{"location":"guide/columns/#custom","title":"custom","text":"<p>Apply custom validation logic:</p> <pre><code>def is_email(value: str) -&gt; bool:\n    return \"@\" in str(value) and \".\" in str(value)\n\nColumn(str, custom=is_email)\n</code></pre> <p>Use lambda for simple checks:</p> <pre><code>Column(int, custom=lambda x: x &gt; 0)  # Positive only\nColumn(int, custom=lambda x: x % 2 == 0)  # Even numbers\n</code></pre>"},{"location":"guide/columns/#supported-types","title":"Supported Types","text":"Python Type Description <code>str</code> String/text <code>int</code> Integer <code>float</code> Floating point <code>bool</code> Boolean <code>\"timestamp\"</code> Datetime"},{"location":"guide/columns/#full-example","title":"Full Example","text":"<pre><code>from dqflow import Contract, Column\n\ncontract = Contract(\n    name=\"orders\",\n    columns={\n        \"order_id\": Column(str, not_null=True),\n        \"customer_id\": Column(str, not_null=True),\n        \"amount\": Column(float, min=0, max=100000),\n        \"currency\": Column(str, allowed=[\"USD\", \"EUR\", \"GBP\"]),\n        \"status\": Column(str, allowed=[\"pending\", \"shipped\", \"delivered\"]),\n        \"created_at\": Column(\"timestamp\", freshness_minutes=1440),\n    },\n)\n</code></pre>"},{"location":"guide/columns/#column-metadata","title":"Column Metadata","text":"<p>Add descriptions and custom metadata:</p> <pre><code>Column(\n    dtype=str,\n    not_null=True,\n    description=\"Unique order identifier\",\n    metadata={\"pii\": False},\n)\n</code></pre>"},{"location":"guide/columns/#custom-validation-examples","title":"Custom Validation Examples","text":""},{"location":"guide/columns/#email-validation","title":"Email Validation","text":"<pre><code>import re\n\ndef is_valid_email(value: str) -&gt; bool:\n    pattern = r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$'\n    return bool(re.match(pattern, str(value)))\n\nColumn(str, custom=is_valid_email)\n</code></pre>"},{"location":"guide/columns/#phone-number-validation","title":"Phone Number Validation","text":"<pre><code>def is_valid_phone(value: str) -&gt; bool:\n    import re\n    return bool(re.match(r'^\\+?1?\\d{9,15}$', str(value)))\n\nColumn(str, custom=is_valid_phone)\n</code></pre>"},{"location":"guide/columns/#business-rules","title":"Business Rules","text":"<pre><code># Must be divisible by 5\nColumn(int, custom=lambda x: x % 5 == 0)\n\n# Must be in valid age range\nColumn(int, custom=lambda x: 0 &lt;= x &lt;= 120)\n\n# Must be a percentage (0-100)\nColumn(float, custom=lambda x: 0 &lt;= x &lt;= 100)\n</code></pre>"},{"location":"guide/columns/#combining-with-other-constraints","title":"Combining with Other Constraints","text":"<p>You can combine custom checks with built-in constraints:</p> <pre><code>Column(\n    dtype=float,\n    not_null=True,\n    min=0,\n    max=100,\n    custom=lambda x: x % 5 == 0,  # Scores in increments of 5\n    description=\"Test score (0-100, increments of 5)\"\n)\n</code></pre>"},{"location":"guide/contracts/","title":"Defining Contracts","text":"<p>A Contract defines the expected shape and quality of your data.</p>"},{"location":"guide/contracts/#basic-contract","title":"Basic Contract","text":"<pre><code>from dqflow import Contract, Column\n\ncontract = Contract(\n    name=\"orders\",\n    columns={\n        \"order_id\": Column(str, not_null=True),\n        \"amount\": Column(float, min=0),\n    },\n)\n</code></pre>"},{"location":"guide/contracts/#contract-with-rules","title":"Contract with Rules","text":"<p>Add table-level rules:</p> <pre><code>contract = Contract(\n    name=\"orders\",\n    columns={\n        \"order_id\": Column(str, not_null=True),\n        \"amount\": Column(float, min=0),\n    },\n    rules=[\n        \"row_count &gt; 0\",\n        \"null_rate(amount) &lt; 0.01\",\n    ],\n)\n</code></pre>"},{"location":"guide/contracts/#contract-with-metadata","title":"Contract with Metadata","text":"<pre><code>contract = Contract(\n    name=\"orders\",\n    description=\"E-commerce order data\",\n    columns={...},\n    rules=[...],\n    metadata={\n        \"owner\": \"data-team\",\n        \"source\": \"shopify\",\n    },\n)\n</code></pre>"},{"location":"guide/contracts/#validating-data","title":"Validating Data","text":"<pre><code>import pandas as pd\n\ndf = pd.read_parquet(\"orders.parquet\")\nresult = contract.validate(df)\n\nif not result.ok:\n    print(result.summary())\n    raise Exception(\"Data quality check failed\")\n</code></pre>"},{"location":"guide/contracts/#accessing-results","title":"Accessing Results","text":"<pre><code># Boolean check\nresult.ok  # True if all checks passed\n\n# Summary string\nresult.summary()\n\n# List of failed checks\nresult.failed_checks\n\n# JSON-serializable dict\nresult.to_dict()\n</code></pre>"},{"location":"guide/contracts/#loading-from-yaml","title":"Loading from YAML","text":"<pre><code>contract = Contract.from_yaml(\"contracts/orders.yaml\")\n</code></pre> <p>See YAML Contracts for more details.</p>"},{"location":"guide/rules/","title":"Table Rules","text":"<p>Table rules validate properties across the entire dataset.</p>"},{"location":"guide/rules/#basic-rules","title":"Basic Rules","text":"<pre><code>from dqflow import Contract\n\ncontract = Contract(\n    name=\"orders\",\n    columns={...},\n    rules=[\n        \"row_count &gt; 0\",\n        \"row_count &gt; 1000\",\n    ],\n)\n</code></pre>"},{"location":"guide/rules/#available-functions","title":"Available Functions","text":""},{"location":"guide/rules/#row_count","title":"row_count","text":"<p>Total number of rows:</p> <pre><code>\"row_count &gt; 0\"\n\"row_count &gt;= 1000\"\n\"row_count &lt; 1000000\"\n</code></pre>"},{"location":"guide/rules/#null_rate","title":"null_rate","text":"<p>Proportion of null values (0.0 to 1.0):</p> <pre><code>\"null_rate(amount) &lt; 0.01\"      # Less than 1% nulls\n\"null_rate(email) == 0\"         # No nulls allowed\n\"null_rate(phone) &lt; 0.5\"        # Less than 50% nulls\n</code></pre>"},{"location":"guide/rules/#unique_count","title":"unique_count","text":"<p>Number of distinct values:</p> <pre><code>\"unique_count(customer_id) &gt; 100\"\n\"unique_count(status) &lt;= 5\"\n</code></pre>"},{"location":"guide/rules/#duplicate_rate","title":"duplicate_rate","text":"<p>Proportion of duplicate values (0.0 to 1.0):</p> <pre><code>\"duplicate_rate(order_id) == 0\"    # All unique\n\"duplicate_rate(email) &lt; 0.1\"      # Less than 10% duplicates\n</code></pre>"},{"location":"guide/rules/#rule-syntax","title":"Rule Syntax","text":"<p>Rules are Python expressions evaluated against the DataFrame:</p> <pre><code># Comparison operators\n\"row_count &gt; 0\"\n\"row_count &gt;= 100\"\n\"row_count &lt; 1000\"\n\"row_count &lt;= 500\"\n\"row_count == 100\"\n\n# Combining conditions\n\"row_count &gt; 0 and row_count &lt; 1000\"\n</code></pre>"},{"location":"guide/rules/#example-contract","title":"Example Contract","text":"<pre><code>contract = Contract(\n    name=\"orders\",\n    columns={\n        \"order_id\": Column(str, not_null=True),\n        \"amount\": Column(float, min=0),\n    },\n    rules=[\n        \"row_count &gt; 0\",\n        \"row_count &lt; 10000000\",\n        \"null_rate(amount) &lt; 0.01\",\n        \"duplicate_rate(order_id) == 0\",\n        \"unique_count(order_id) == row_count\",\n    ],\n)\n</code></pre>"},{"location":"guide/rules/#custom-expressions","title":"Custom Expressions","text":"<p>Rules support basic Python expressions:</p> <pre><code>\"row_count &gt; 100 and null_rate(amount) &lt; 0.05\"\n\"unique_count(status) &lt;= 10\"\n</code></pre> <p>Note</p> <p>Rules are evaluated in a sandboxed environment with limited functions for security.</p>"},{"location":"guide/yaml/","title":"YAML Contracts","text":"<p>Define contracts in YAML for version control and easy editing.</p>"},{"location":"guide/yaml/#basic-yaml-contract","title":"Basic YAML Contract","text":"<pre><code># contracts/orders.yaml\nname: orders\ndescription: E-commerce order data contract\n\ncolumns:\n  order_id:\n    type: string\n    not_null: true\n\n  amount:\n    type: float\n    min: 0\n    max: 100000\n\n  currency:\n    type: string\n    allowed: [\"USD\", \"EUR\", \"GBP\"]\n\nrules:\n  - row_count &gt; 0\n  - \"null_rate(amount) &lt; 0.01\"\n</code></pre>"},{"location":"guide/yaml/#loading-yaml-contracts","title":"Loading YAML Contracts","text":"<pre><code>from dqflow import Contract\n\ncontract = Contract.from_yaml(\"contracts/orders.yaml\")\nresult = contract.validate(df)\n</code></pre>"},{"location":"guide/yaml/#column-types-in-yaml","title":"Column Types in YAML","text":"YAML Type Python Equivalent <code>string</code> <code>str</code> <code>integer</code> <code>int</code> <code>float</code> <code>float</code> <code>boolean</code> <code>bool</code> <code>timestamp</code> <code>\"timestamp\"</code>"},{"location":"guide/yaml/#full-example","title":"Full Example","text":"<pre><code>name: orders\ndescription: E-commerce order data quality contract\n\ncolumns:\n  order_id:\n    type: string\n    not_null: true\n\n  customer_id:\n    type: string\n    not_null: true\n\n  amount:\n    type: float\n    min: 0\n    max: 100000\n\n  currency:\n    type: string\n    allowed: [\"USD\", \"EUR\", \"GBP\"]\n\n  status:\n    type: string\n    allowed: [\"pending\", \"processing\", \"shipped\", \"delivered\", \"cancelled\"]\n\n  created_at:\n    type: timestamp\n    freshness_minutes: 1440\n\nrules:\n  - row_count &gt; 0\n  - \"null_rate(amount) &lt; 0.01\"\n  - \"null_rate(customer_id) &lt; 0.001\"\n</code></pre>"},{"location":"guide/yaml/#saving-contracts-to-yaml","title":"Saving Contracts to YAML","text":"<pre><code>contract = Contract(\n    name=\"orders\",\n    columns={...},\n    rules=[...],\n)\n\ncontract.to_yaml(\"contracts/orders.yaml\")\n</code></pre>"},{"location":"guide/yaml/#organizing-contracts","title":"Organizing Contracts","text":"<p>Recommended folder structure:</p> <pre><code>project/\n\u251c\u2500\u2500 contracts/\n\u2502   \u251c\u2500\u2500 orders.yaml\n\u2502   \u251c\u2500\u2500 customers.yaml\n\u2502   \u2514\u2500\u2500 products.yaml\n\u251c\u2500\u2500 data/\n\u2514\u2500\u2500 pipelines/\n</code></pre>"},{"location":"guide/yaml/#using-with-cli","title":"Using with CLI","text":"<pre><code>dq validate contracts/orders.yaml data/orders.parquet\ndq show contracts/orders.yaml\n</code></pre>"}]}